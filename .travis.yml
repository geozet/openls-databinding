sudo: false

language: java

install:
  # install without any testing to get dependencies in place
  - mvn install -Dmaven.test.skip=true -B -V -fae

script:
  # execute unit and integration tests
  - mvn -e -fae -B -Dfailsafe.useFile=false clean test verify
  # check javadoc for lint
  - if [ "$TRAVIS_JDK_VERSION" == oraclejdk8 ]; then
         mvn javadoc:javadoc;
         mvn javadoc:test-javadoc;
    fi

matrix:
  fast_finish: true
  include:
    # additional builds
    - os: linux
      jdk: openjdk8
      sudo: required
      dist: trusty
      group: edge
    - os: linux
      jdk: oraclejdk8

cache:
  directories:
  - $HOME/.m2
